
DROP DATABASE pos_java;
CREATE DATABASE pos_java;

USE pos_java

CREATE TABLE categories(
 id INT PRIMARY KEY AUTO_INCREMENT,
 name VARCHAR(40) NOT NULL
);

CREATE TABLE items(
 id INT PRIMARY KEY AUTO_INCREMENT,
 barcode VARCHAR(30),
 name VARCHAR(30),
 unit VARCHAR(8),
 price DOUBLE,
 categoryid int not null,
 CONSTRAINT category_item_fk FOREIGN KEY(categoryid) REFERENCES categories(id)
);

CREATE TABLE promotions(
 id INT PRIMARY KEY AUTO_INCREMENT,
 type INT NOT NULL,
 description VARCHAR(200)
);

CREATE TABLE items_promotions(
 itemid INT NOT NULL REFERENCES items(id),
 promotionid INT NOT NULL REFERENCES promotions(id),
 discount DOUBLE,
 PRIMARY KEY(itemid,promotionid)
);





